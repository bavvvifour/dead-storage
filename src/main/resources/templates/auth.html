<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet"
          href="https://mdbcdn.b-cdn.net/wp-content/themes/mdbootstrap4/docs-app/css/dist/mdb5/standard/core.min.css">
</head>

<body>
<section class="w-100 p-4 d-flex justify-content-center pb-4">
    <div style="width: 26rem;">
        <ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
            <li class="nav-item" role="presentation">
                <a class="nav-link" th:classappend="${registerTab} ? '' : 'active'" id="tab-login" data-mdb-toggle="pill" href="#pills-login" role="tab"
                   aria-controls="pills-login" aria-selected="true">Login</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" th:classappend="${registerTab} ? 'active' : ''" id="tab-register" data-mdb-toggle="pill" href="#pills-register" role="tab"
                   aria-controls="pills-register" aria-selected="false">Register</a>
            </li>
        </ul>

        <div class="tab-content">
            <div class="tab-pane fade" th:classappend="${registerTab} ? '' : 'show active'" id="pills-login" role="tabpanel" aria-labelledby="tab-login">
                <form th:action="@{/login}" method="post">
                    <div data-mdb-input-init class="form-outline mb-4">
                        <input type="text" id="loginName" class="form-control" name="username"/>
                        <label class="form-label" for="loginName">Username</label>
                    </div>

                    <div data-mdb-input-init class="form-outline mb-4">
                        <input type="password" id="loginPassword" class="form-control" name="password"/>
                        <label class="form-label" for="loginPassword" >Password</label>
                    </div>

                    <div th:if="${param.error}" style="color: red">
                        Wrong username or password
                    </div>

                    <button type="submit" data-mdb-button-init data-mdb-ripple-init
                            class="btn btn-primary btn-block mb-4">Sign in</button>

                </form>
            </div>
            <div class="tab-pane fade" th:classappend="${registerTab} ? 'show active' : ''" id="pills-register" role="tabpanel" aria-labelledby="tab-register">
                <form th:action="@{/registration}" th:object="${userForm}" method="post">
                    <div data-mdb-input-init class="form-outline mb-4">
                        <input type="text" id="registerName" class="form-control" th:field="*{username}"/>
                        <label class="form-label" for="registerName">Username</label>
                    </div>
                    <div th:if="${#fields.hasErrors('username')}" th:errors="*{username}" style="margin-top: -20px; color: red">Incorrect username</div>

                    <div data-mdb-input-init class="form-outline mb-4">
                        <input type="email" id="registerEmail" class="form-control" th:field="*{email}"/>
                        <label class="form-label" for="registerEmail">Email</label>
                    </div>
                    <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" style="margin-top: -20px; color: red">Incorrect email</div>

                    <div data-mdb-input-init class="form-outline mb-4">
                        <input type="password" id="registerPassword" class="form-control" th:field="*{password}"/>
                        <label class="form-label" for="registerPassword">Password</label>
                    </div>
                    <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}" style="margin-top: -20px; color: red">Incorrect password</div>

                    <div data-mdb-input-init class="form-outline mb-4">
                        <input type="password" id="registerRepeatPassword" class="form-control" th:field="*{confirmPassword}"/>
                        <label class="form-label" for="registerRepeatPassword">Repeat password</label>
                    </div>
                    <div th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}" style="margin-top: -20px; color: red">Passwords do not match</div>

                    <button type="submit" data-mdb-button-init data-mdb-ripple-init
                            class="btn btn-primary btn-block mb-3">Sign up</button>
                </form>
            </div>
        </div>
    </div>
</section>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.10.2/mdb.min.js"></script>
</body>

</html>
